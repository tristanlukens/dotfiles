#          _
#  _______| |__
# |_  / __| '_ \
#  / /\__ \ | | |
# /___|___/_| |_|
#

# zshrc by Tristan Lukens
# tristanlukens.github.io

# comments correspond to the command UNDERNEATH

# correct this if the dotfiles directory is somewhere else
export DOTS="$HOME/dotfiles"

## --BUGFIXES-- ##
# https://stackoverflow.com/questions/36657321/after-installing-homebrew-i-get-zsh-command-not-found-brew
export PATH=/opt/homebrew/bin:$PATH

## --ZINIT-- ##
# contains everything zinit needs to install if needed and to source the correct files
source $DOTS/zsh/zinit.zsh

# https://github.com/jeffreytse/zsh-vi-mode
zinit ice depth=1
zinit light jeffreytse/zsh-vi-mode

## --ALIASES-- ##
alias v=nvim
alias vim=nvim

alias zconf="v $ZDOTDIR/.zshrc && clear && source $ZDOTDIR/.zshrc"
alias aconf="v $DOTS/alacritty/alacritty.yml"
alias vconf="v $DOTS/nvim/init.vim"

alias solitaire="ttysolitaire --no-background-color -p 10"
alias la="ls -la"
alias t="tree -CaI .git"

# alias for brew, because brew wants to install shit to /usr/local when using a rosetta emulated terminal emulator
if [[ $(uname -v | grep "ARM64") != "" ]]; then
    alias brew="arch -arm64 brew"
fi

## --PROMPT-- ##
PROMPT="%B%K{cyan} %n %k %K{208} in %k %K{yellow}%F{black} %~ %k%f Î»%b "

## --AUTOSTART-- ##
fortune | cowsay

## VI MODE-- ##
# https://gist.github.com/LukeSmithxyz/e62f26e55ea8b0ed41a65912fbebbe52
bindkey -v
export KEYTIMEOUT=1

## --HISTORY--##
# https://gist.github.com/LukeSmithxyz/e62f26e55ea8b0ed41a65912fbebbe52
HISTSIZE=10000
SAVEHIST=10000
HISTFILE=$HOME/.cache/zsh/history

## --MISC-- ##
# https://unix.stackexchange.com/questions/391641/separate-path-for-zcompdump-files#391670
# https://stackoverflow.com/questions/67136714/how-to-properly-call-compinit-and-bashcompinit-in-zsh
autoload -Uz compinit
compinit -d $HOME/.cache/zsh/zcompdump-$ZSH_VERSION

